<section  *ngIf="!showSociete && showRegistration">

<div class="center-container" style="margin-bottom: 20px;" (click)="openDialog()">
  <button type="button" class="btn btn-success" style="display: flex;justify-content: center;align-items: center;">Add a new society</button>
  </div>
  <table class="table table-striped table-bordered">
      <thead>
        <th>Id</th>
        <th>Nom</th>
        <th>Email</th>
        <th>Phone Number</th>
        <th>Address</th>
        <th>Logo</th>
        <th>Actions</th>
      </thead>
      <tbody style="font-size: 20px;">
        <tr *ngFor="let user of societies; let i = index">
          <td>{{user.idSociete}}</td>
          <td>{{user.nomSociete}}</td>
          <td>{{user.email}}</td>
          <td>{{user.numTel}}</td>
          <td>{{user.addresse}}</td>
          <td class="img-wrap" style="height: 300px; width: 100%;">
            <img src="{{ user.logoSociete }}" alt="Logo">
          </td>

          <td style="text-align: center; display: flex;justify-content: center;">
            <p title="Modify" (click)="updateSociety(user.idSociete)">        <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" fill="currentColor" style=" cursor:pointer" class="bi bi-pencil-square" viewBox="0 0 16 16" >
              <path d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"/>
              <path fill-rule="evenodd" d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"/>
            </svg></p>
            <p title="Delete" (click)="confirmDeleteUser(user.idSociete)">
              <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" fill="currentColor" style="margin-left:5px ;margin-right:5px; cursor:pointer" class="bi bi-file-x" viewBox="0 0 16 16">
                <path d="M6.146 6.146a.5.5 0 0 1 .708 0L8 7.293l1.146-1.147a.5.5 0 1 1 .708.708L8.707 8l1.147 1.146a.5.5 0 0 1-.708.708L8 8.707 6.854 9.854a.5.5 0 0 1-.708-.708L7.293 8 6.146 6.854a.5.5 0 0 1 0-.708z"/>
                <path d="M4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H4zm0 1h8a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1z"/>
              </svg>
             </p>
             <p title="Events">
              <svg (click)="toggleTable(i)" id="open-1" xmlns="http://www.w3.org/2000/svg" width="36" height="36" fill="currentColor" style="margin-left:5px ;margin-right:5px; cursor:pointer" class="bi bi-caret-down-fill open" viewBox="0 0 16 16">
                <path d="M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z"/>
              </svg>
            </p>
            <tr *ngIf="isOpen[i]">
              <td colspan="7">
                <table class="table mb-0" style="font-size: 15px;" id="events-{{i}}">
                  <thead>
                    <tr>
                      <th>List of events</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let event of eventsForSociety[i]">
                      <th>Id: {{event.idEvenement}}</th>
                      <th>Nom: {{event.nomEvenement}}</th>
                    </tr>
                  </tbody>
                </table>
              </td>
            </tr>
      </tbody>
    </table>
</section>

<section  *ngIf="showSociete && !showRegistration">
  <div class="center-container" style="margin-bottom: 20px;" (click)="toggleRegistration()">
    <button type="button" class="btn btn-success" style="display: flex;justify-content: center;align-items: center;">Go back to list</button>
    </div>

    <div style="position: absolute;display: flex; justify-content:center ; align-items: center;text-align: center; top: 50%; left: 50%; transform: translate(-50%,-50%);height: 70%;">
      <mat-card class="AddSociete"  style="height: 80%; margin-top: 50px; ">
        <mat-card-title>Add a new society</mat-card-title>
        <form style=" position: relative; display: block;justify-content: center; align-items: center;top: 40%; left: 50%; transform: translate(-50%,-50%);">
          <mat-form-field>
            <mat-label>Sociey name:</mat-label>
            <input matInput type="text" name="name" required>
          </mat-form-field>

          <mat-form-field>
            <mat-label>Society Logo:</mat-label>
            <input matInput type="text" name="surname" required>
          </mat-form-field>

          <br>

          <mat-form-field>
            <mat-label>Phone Number:</mat-label>
            <input matInput type="tel" name="phoneNumber" required>
          </mat-form-field>

          <mat-form-field>
            <mat-label>Email:</mat-label>
            <input matInput type="email" name="email" required>
          </mat-form-field>

          <br>

          <mat-form-field>
            <mat-label>Address:</mat-label>
            <input matInput type="text" name="address" required>
          </mat-form-field>

          <div class="button-row">
            <button mat-raised-button color="primary">Submit</button>
          </div>
        </form>
      </mat-card>
    </div>

</section>

<!--

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.6.0/css/bootstrap.min.css">
<div style="display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh;">
  <h2>Users List</h2>
  <div class="d-flex justify-content-end" style="margin-bottom: 10px;">
    <button mat-raised-button color="primary" (click)="openDialog()">Add User</button>
  </div>

  <table class="table table-striped">
    <thead>
      <tr>
        <th>id</th>
        <th>Nom</th>
        <th>Prénom</th>
        <th>Email</th>
        <th>Date Naissance</th>
        <th>Numéro Téléphone</th>
        <th>Role(s)</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let user of users">
        <td>{{user.idUtilisateur}}</td>
        <td>{{user.nom}}</td>
        <td>{{user.prenom}}</td>
        <td>{{user.email}}</td>
        <td>{{user.dateNaissance}}</td>
        <td>{{user.numTel}}</td>
        <td>
          <div class="tags">
            <span class="tag" *ngFor="let role of user.roles">{{role.nomRole}}</span>
          </div>
        </td>
        <td>
          <button (click)="updateUser(user.idUtilisateur)" class="btn btn-info">Mettre à jour</button>
          <button (click)="confirmDeleteUser(user.idUtilisateur)" class="btn btn-danger" style="margin-left: 10px;">Supprimer</button>
          <button (click)="viewUser(user.idUtilisateur)" class="btn btn-info" style="margin-left: 10px;">Aperçu</button>
        </td>
      </tr>
    </tbody>
  </table>

  <ng-template #content let-modal>
    <div class="modal-header">
      <h4 class="modal-title" id="modal-basic-title">Utilisateurs</h4>
      <button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss('Cross click')"></button>
    </div>
    <div class="modal-body">
      <form>
        <div class="mb-3">
          <label for="dateOfBirth">Utilisateur supprimé avec succès</label>
        </div>
      </form>
    </div>
  </ng-template>
</div>

-->
